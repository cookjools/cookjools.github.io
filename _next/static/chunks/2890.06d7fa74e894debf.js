"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2890],{97669:function(e,n,t){var r,a=t(67294);function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}n.Z=function(e){return a.createElement("svg",o({width:20,height:21,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M12.502 6.62a.426.426 0 10.852.018l-.852-.018zm.44-.63l.425.01v-.011l-.426.001zm-1.49-1.49v-.426.426zm-5.749 0v-.426h-.001l.001.426zM4 6.203l-.426-.001v.001H4zm0 5.748h-.426v.001H4zm1.49 1.49l-.001.426h.001v-.426zm.639.426a.426.426 0 100-.851v.851zm1.517-6.812h5.907v-.852H7.646v.852zm5.907 0c.603 0 1.091.488 1.091 1.09h.852c0-1.072-.87-1.942-1.943-1.942v.852zm1.091 1.09v5.909h.852V8.145h-.851zm0 5.909c0 .602-.488 1.09-1.09 1.09v.852c1.072 0 1.942-.87 1.942-1.943h-.851zm-1.09 1.09H7.645v.852h5.907v-.851zm-5.908 0a1.091 1.091 0 01-1.091-1.09h-.852c0 1.072.87 1.942 1.943 1.942v-.851zm-1.091-1.09V8.145h-.852v5.907h.852zm0-5.908c0-.603.488-1.091 1.09-1.091v-.852c-1.072 0-1.942.87-1.942 1.943h.852zm6.799-1.508l.013-.639-.851-.018-.014.639.852.018zm.013-.649a1.92 1.92 0 00-.562-1.352l-.602.602c.2.2.312.47.313.752l.851-.002zm-.562-1.352a1.92 1.92 0 00-1.353-.563l-.002.852c.282 0 .553.113.753.313l.602-.602zm-1.354-.563H5.703v.852h5.748v-.852zm-5.75 0A2.134 2.134 0 004.2 4.7l.602.602c.24-.24.565-.374.903-.375l-.002-.852zM4.2 4.7a2.134 2.134 0 00-.625 1.503l.852.002c0-.338.136-.663.375-.903L4.2 4.7zm-.625 1.504v5.748h.852V6.203h-.852zm0 5.75c.002.507.204.993.563 1.352l.602-.602c-.2-.2-.312-.47-.313-.753l-.852.002zm.563 1.352c.358.359.845.56 1.352.562l.002-.851c-.282-.001-.553-.114-.752-.313l-.602.602zm1.353.562h.639v-.851H5.49v.851z",fill:"currentColor"})))}},65038:function(e,n,t){var r,a,o=t(67294);function c(){return c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},c.apply(this,arguments)}n.Z=function(e){return o.createElement("svg",c({width:20,height:21,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M12.502 6.62a.426.426 0 10.852.018l-.852-.018zm.44-.63l.425.01v-.011l-.426.001zm-1.49-1.49v-.426.426zm-5.749 0v-.426h-.001l.001.426zM4 6.203l-.426-.001v.001H4zm0 5.748h-.426v.001H4zm1.49 1.49l-.001.426h.001v-.426zm.639.426a.426.426 0 100-.851v.851zm1.517-6.812h5.907v-.852H7.646v.852zm5.907 0c.603 0 1.091.488 1.091 1.09h.852c0-1.072-.87-1.942-1.943-1.942v.852zm1.091 1.09v5.909h.852V8.145h-.851zm0 5.909c0 .602-.488 1.09-1.09 1.09v.852c1.072 0 1.942-.87 1.942-1.943h-.851zm-1.09 1.09H7.645v.852h5.907v-.851zm-5.908 0a1.091 1.091 0 01-1.091-1.09h-.852c0 1.072.87 1.942 1.943 1.942v-.851zm-1.091-1.09V8.145h-.852v5.907h.852zm0-5.908c0-.603.488-1.091 1.09-1.091v-.852c-1.072 0-1.942.87-1.942 1.943h.852zm6.799-1.508l.013-.639-.851-.018-.014.639.852.018zm.013-.649a1.92 1.92 0 00-.562-1.352l-.602.602c.2.2.312.47.313.752l.851-.002zm-.562-1.352a1.92 1.92 0 00-1.353-.563l-.002.852c.282 0 .553.113.753.313l.602-.602zm-1.354-.563H5.703v.852h5.748v-.852zm-5.75 0A2.134 2.134 0 004.2 4.7l.602.602c.24-.24.565-.374.903-.375l-.002-.852zM4.2 4.7a2.134 2.134 0 00-.625 1.503l.852.002c0-.338.136-.663.375-.903L4.2 4.7zm-.625 1.504v5.748h.852V6.203h-.852zm0 5.75c.002.507.204.993.563 1.352l.602-.602c-.2-.2-.312-.47-.313-.753l-.852.002zm.563 1.352c.358.359.845.56 1.352.562l.002-.851c-.282-.001-.553-.114-.752-.313l-.602.602zm1.353.562h.639v-.851H5.49v.851z",fill:"currentColor"})),a||(a=o.createElement("path",{d:"M8.5 6.5l4.5-.172c-.126-.356-.12-1.274-.43-1.492a1.831 1.831 0 00-1.054-.336H5.828A1.828 1.828 0 004 6.328v5.688c0 .378.118.746.336 1.055.218.308 1.308.303 1.664.429v-5c0-.539.12-1.12.5-1.5.38-.38 1.461-.5 2-.5z",fill:"#000"})))}},57336:function(e,n,t){var r=t(85893),a=t(23886),o=t(77058);n.Z=function(){var e=(0,o.$)().t;return(0,r.jsx)(r.Fragment,{children:a.U$&&(0,r.jsx)("img",{className:"pt-4",src:"/images/attribution-logo.png",alt:e("attribution")})})}},83344:function(e,n,t){var r=t(34051),a=t.n(r),o=t(85893),c=t(67294),i=t(44131),l=t(32089),s=t(97393),u=t(12918);function d(e,n,t,r,a,o,c){try{var i=e[o](c),l=i.value}catch(s){return void t(s)}i.done?n(l):Promise.resolve(l).then(r,a)}n.Z=function(e){var n=e.exhibitId,t=e.pwd,r=e.onSignedIn,f=e.maxPasswordChars,m=void 0===f?100:f,h=l.Ry({password:l.Z_().max(m,"Please limit to ".concat(m," characters")).test("valid","Please enter the correct password",(function(e){return(0,u.vp)(e)===t}))}),v=(0,s.TA)({initialValues:{password:""},validationSchema:h,validateOnChange:!1,onSubmit:function(){var e,t=(e=a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("".concat(n,"-authtoken"),(0,u.vp)(t.password)),r();case 2:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function c(e){d(o,r,a,c,i,"next",e)}function i(e){d(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()}),p=v.handleSubmit,x=v.handleChange,b=v.values,g=v.errors,w=function(){var e=localStorage.getItem("".concat(n,"-authtoken"));return e&&t===e};return(0,c.useEffect)((function(){w()&&r()}),[]),w()?null:(0,o.jsxs)("div",{className:"layout-container py-16",children:[(0,o.jsx)("h1",{className:"w-full pb-4 text-xl",children:"This exhibit is private"}),(0,o.jsxs)("form",{onSubmit:p,className:"w-full max-w-md",children:[(0,o.jsx)(i.oi,{id:"password",type:"password",value:b.password,onChange:x,placeholder:"password",errors:g}),(0,o.jsx)(i.zx,{classes:"mt-4",type:"submit",text:"Submit"})]})]})}},77186:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(85893),a=t(97669),o=t(65038),c=t(44131),i=t(94184),l=t.n(i),s=t(32374),u=t(25159),d=function(e){var n=e.disabled,t=e.hide,a=e.classes,o=e.onClick,i=l()(a);return(0,r.jsx)(c.lb,{disabled:n,classes:i,label:t?"hide":"show",onClick:function(){o()},children:t?(0,r.jsx)(s.Z,{className:"w-6"}):(0,r.jsx)(u.Z,{className:"w-6"})})},f=t(12918),m=t(67294),h=function(e,n){var t=e.barColor,a=void 0===t?"gray":t,o=e.onComplete,c=(0,m.useRef)(),i=(0,m.useRef)(),l=(0,m.useRef)();return(0,m.useImperativeHandle)(n,(function(){return{reset:function(e){i.current&&cancelAnimationFrame(i.current),l.current&&clearTimeout(l.current);var n,t=0,r=0,a=function(o){void 0!==n&&(t+=.001*(o-n)%100,r=100*(0,f.Fv)(t,0,e),c.current&&r<100&&(c.current.style.width="".concat(r,"%")));n=o,i.current=requestAnimationFrame(a)};i.current=requestAnimationFrame(a),l.current=setTimeout((function(){cancelAnimationFrame(i.current),o()}),1e3*e)}}})),(0,m.useEffect)((function(){return function(){i.current&&cancelAnimationFrame(i.current),l.current&&clearTimeout(l.current)}}),[]),(0,r.jsx)("div",{ref:c,className:"mt-4 h-0.5",style:{width:"0px",backgroundColor:a}})},v=(0,m.forwardRef)(h),p=t(6767),x=t.n(p),b=t(23886),g=t(26126),w=t(46861),z=t(77058),j=t(57336),y=function(e){var n=e.backgroundColorDisabled,t=e.controls,i=e.description,s=e.exhibit,u=e.footer,h=e.index,p=e.loading,y=e.onTimerComplete,k=void 0===y?function(){}:y,C=e.screens,E=e.timerEnabled,N=(0,m.useRef)(),A=(0,z.$)().t;(0,m.useEffect)((function(){if(N.current&&!p){var e=C[h],n="number"===typeof e.duration?e.duration:e.duration[1]-e.duration[0];N.current.reset(n)}}),[p,h]);var F=function(){var e=b.JA;return!n&&-1!==h&&C.length&&(e=C[h].backgroundColor||e),new(x())(e).alpha(.95)};(0,w.E)("#description a",[h]);var S,H,Z="".concat(b.lz,"/exhibits/create?duplicate=").concat(s.publicId),P="".concat(b.lz,"/exhibits/").concat(s.duplicatedFrom),I=(0,m.useState)(!0),O=I[0],M=I[1];return function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown"}(S||(S={})),(0,g.Z)(S.ArrowUp,(function(){M(!1)})),(0,g.Z)(S.ArrowDown,(function(){M(!0)})),(0,r.jsxs)("div",{id:"description",className:"fixed top-0 z-50 m-0 w-full p-4 text-sm text-gray-900 shadow-md backdrop-blur-md transition-colors duration-500 ease-in-out md:m-2 md:w-1/2 xl:w-1/3",style:{backgroundColor:F()},children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"h-8 w-4/6",children:(0,r.jsx)(d,{hide:O,classes:"m-1",disabled:p,onClick:function(){M(!O)}})}),(0,r.jsx)("div",{className:"h-8 w-2/6 text-right",children:t})]}),(0,r.jsxs)("div",{className:l()("p-1 pt-3",{hidden:!O}),children:[0===h&&(0,r.jsx)("h1",{className:l()("pb-2 text-lg font-semibold text-black",{"skeleton-box":p}),children:p?(0,r.jsx)(r.Fragment,{children:"\xa0"}):s.title}),(0,r.jsx)("div",{className:l()("pt-0",{"skeleton-box":p}),dangerouslySetInnerHTML:p?(0,f.ab)("&nbsp;"):i?(0,f.ab)(i):void 0}),E&&C.length&&h>0&&(H=C[h],"number"===typeof H.duration?H.duration>0:H.duration[1]-H.duration[0]>0)&&!p&&(0,r.jsx)(v,{ref:N,barColor:F().darken(.6),onComplete:function(){k()}}),u,(0,r.jsx)("div",{title:"".concat(s.author," ").concat(s.rights&&"("+s.rights+")"),className:l()("mt-2 h-8 w-4/6 truncate font-semibold leading-8",{hidden:0!==h,"skeleton-box":0===h&&p}),children:0===h&&!p&&(0,r.jsxs)(r.Fragment,{children:[s.author,s.rights&&(0,r.jsxs)(r.Fragment,{children:["\xa0(",s.rights,")"]})]})}),(0,r.jsxs)("div",{className:l()("flex items-baseline justify-between pr-2",{hidden:0!==h}),children:[(0,r.jsx)("div",{children:(0,r.jsx)(j.Z,{})}),(0,r.jsxs)("div",{children:[(s.duplicationEnabled||void 0===s.duplicationEnabled)&&(0,r.jsxs)(c.gy,{disabled:p,label:A("duplicate"),onClick:function(){document.location.href=Z},children:[(0,r.jsx)(a.Z,{className:"mr-1 h-5 w-5 text-black"}),(0,r.jsx)(c.LX,{text:A("duplicate"),classes:"text-black"})]}),s.duplicatedFrom&&(0,r.jsxs)(c.gy,{disabled:p,classes:"ml-4",label:A("duplicatedFrom"),onClick:function(){document.location.href=P},children:[(0,r.jsx)(o.Z,{className:"mr-1 h-5 w-5 text-black"}),(0,r.jsx)(c.LX,{text:A("duplicatedFrom"),classes:"text-black"})]})]})]})]})]})}},44670:function(e,n,t){var r=t(85893),a=t(12918);n.Z=function(e){var n=e.url,t=e.onLoad;return(0,r.jsx)("img",{className:"w-full",src:"https://img.youtube.com/vi/".concat((0,a.gx)(n)[6],"/0.jpg"),onLoad:function(){t()}})}},62231:function(e,n,t){t.d(n,{o:function(){return o}});var r=t(11163),a=t(67294),o=function(e,n,t){var o=(0,r.useRouter)(),c=(0,a.useState)({screen:void 0}),i=c[0],l=c[1];return(0,a.useEffect)((function(){var r;(null===(r=n[e])||void 0===r?void 0:r.id)?o.push("/exhibits/".concat(t.publicId,"?screen=").concat(n[e].id),void 0,{shallow:!0}):o.push("/exhibits/".concat(t.publicId),void 0,{shallow:!0})}),[e]),(0,a.useEffect)((function(){var e=o.query.screen;l({screen:void 0!==e?e:null})}),[]),i}},24434:function(e,n,t){t.d(n,{s:function(){return a}});var r=t(67294),a=function(){var e=(0,r.useState)(!1),n=e[0],t=e[1];return(0,r.useEffect)((function(){return t(!0)}),[]),n}},68611:function(e,n,t){t.d(n,{K:function(){return s}});var r=t(67294),a=t(51130),o=t.n(a),c=t(66947),i=t(88650),l=t(12918),s=function(e,n,t,a){(0,r.useEffect)((function(){e&&function(e,n,t){var r=o()(),a=o()(),s=e.filter((function(e){return(0,l.kX)(e.partOfFormat)})).map((function(e){return e.partOf})),u=[];r.fetch(s).then((function(e){a.fetch(u).then((function(e){t()}))})),r.onfetched=function(e){n(e),(0,c.loadManifest)(e.blobUrl).then((function(e){var n=(0,c.parseManifest)(e).getSequences()[0].getCanvases();if(n.length){var t=n[0].getContent();if(t.length){var r=t[0].getBody();if(r.length){var a=r[0];a.getFormat()===i.DD.GLB&&u.push(a.id)}}}})).catch((function(e){console.log("Unable to load IIIF manifest")}))}}(n,(function(e){t(e)}),(function(){a()}))}),[e])}},46861:function(e,n,t){t.d(n,{E:function(){return a}});var r=t(67294),a=function(e,n){(0,r.useEffect)((function(){for(var n=document.querySelectorAll(e),t=0;t<n.length;t++)n[t].setAttribute("target","_blank")}),[e,n])}},98696:function(e){e.exports=JSON.parse('{"options":{"pagingEnabled":false,"overrideFullScreen":true},"modules":{"pagingHeaderPanel":{"options":{"pagingToggleEnabled":false}},"footerPanel":{"options":{"downloadEnabled":false}},"contentLeftPanel":{"options":{"panelOpen":false}},"openSeadragonCenterPanel":{"options":{"requiredStatementEnabled":false,"animationTime":0.5}},"modelViewerCenterPanel":{"options":{"autoRotateEnabled":false,"interactionPromptEnabled":false}}}}')},63970:function(e){e.exports={controls:!1}}}]);