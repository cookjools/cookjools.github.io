"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3843],{74424:function(e,t,n){var r,a=n(67294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",o({width:20,height:21,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.707 17.207a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9.5H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",fill:"currentColor"})))}},54234:function(e,t,n){var r,a=n(67294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",o({width:20,height:21,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.293 3.793a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414l4.293-4.293H3a1 1 0 010-2h11.586l-4.293-4.293a1 1 0 010-1.414z",fill:"currentColor"})))}},19353:function(e,t,n){var r,a=n(67294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",o({width:20,height:21,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M9.987 3c-1.837.004-3.505.793-4.736 2.077l-.99-1.08c-.42-.457-1.136-.133-1.136.513v4.055c0 .4.298.725.665.725h3.717c.592 0 .89-.781.47-1.239L6.82 6.79c.855-.874 1.962-1.358 3.139-1.37 2.561-.024 4.72 2.238 4.698 5.125-.02 2.739-2.056 5.037-4.657 5.037-1.14 0-2.218-.444-3.067-1.257a.312.312 0 00-.454.017l-1.1 1.2a.387.387 0 00.014.526C6.613 17.268 8.228 18 10 18c3.797 0 6.875-3.358 6.875-7.5 0-4.137-3.095-7.507-6.888-7.5z",fill:"currentColor"})))}},60480:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r=n(85893),a=n(67294),o=n(60346),i=n(12964),l=n(12918),c=n(83344),s=n(44131),u=n(74424),d=n(54234),f=n(19353),p=n(94184),g=n.n(p),m=n(26126),h=function(e){var t,n=e.index,a=e.screens,o=e.loading,i=e.onPrevious,l=e.onNext,c=e.onRestart;return function(e){e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight"}(t||(t={})),(0,m.Z)(t.ArrowLeft,(function(){i()})),(0,m.Z)(t.ArrowRight,(function(){l()})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.lb,{disabled:o,classes:g()("mr-2",{hidden:0===n||n===a.length-1}),label:"Previous",onClick:function(){i()},children:(0,r.jsx)(u.Z,{className:"m-1"})}),(0,r.jsx)(s.lb,{disabled:o,classes:g()("mr-2",{hidden:n===a.length-1}),label:"Next",onClick:function(){l()},children:(0,r.jsx)(d.Z,{className:"m-1"})}),(0,r.jsx)(s.lb,{disabled:o,classes:g()("mr-2",{hidden:n!==a.length-1}),label:"Restart",onClick:function(){c()},children:(0,r.jsx)(f.Z,{className:"m-1"})})]})},b=n(77186),v=n(98696),x=n(63970),O=n(68611),y=n(24434),w=n(44670),j=n(62231);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}function E(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(e){var t=e.exhibit,n={description:null,embedded:e.embedded,exhibit:t,index:0,partOf:null,partOfFormat:null,preloaded:!1,preloading:!1,rotation:null,screens:[],signedIn:!1,target:null,itemLoading:!0,duration:null},s=(0,a.useRef)(null),u=(0,a.useReducer)((0,a.useCallback)((function(e,n){switch(n.type){case"start":var r,a=null===(r=n.payload.exhibit.annotations)||void 0===r?void 0:r.filter((function(e){return e.motivation===o.H.FRAMING})),i=a.length?a[0]:null,c=i?i.partOf:null,s=i?i.partOfFormat:null,u=[{backgroundColor:"#ffffff",bodyValue:n.payload.exhibit.description,duration:0,motivation:o.H.FRAMING,orderIndex:-1,partOf:c,partOfFormat:s,rotation:0,target:null}].concat(E(a)),d=n.payload.screen?u.findIndex((function(e){return e.id===n.payload.screen})):0;-1===d&&(d=0);var f=u[d];return I({},e,{description:f.bodyValue,duration:f.duration,exhibit:t,index:d,itemLoading:f.partOf!==e.partOf,partOf:f.partOf,partOfFormat:f.partOfFormat,preloading:!0,rotation:f.rotation,screens:u,target:f.target});case"restart":var p=e.screens[0];return I({},e,{description:p.bodyValue,index:0,partOf:p.partOf,partOfFormat:p.partOfFormat,rotation:p.rotation,target:p.target,itemLoading:p.partOf!==e.partOf,duration:p.duration});case"previous":var g=e.index>0?e.index-1:e.index,m=e.screens[g];return I({},e,{description:m.bodyValue,index:g,partOf:m.partOf,partOfFormat:m.partOfFormat,rotation:m.rotation,target:0===g?null:m.target,itemLoading:m.partOf!==e.partOf,duration:m.duration});case"next":var h=e.index<e.screens.length-1?e.index+1:0,b=e.screens[h];return I({},e,{description:b.bodyValue,index:h,partOf:b.partOf,partOfFormat:b.partOfFormat,rotation:b.rotation,target:b.target,itemLoading:b.partOf!==e.partOf,duration:b.duration});case"preloadedItem":var v=n.payload;return I({},e,{screens:e.screens.map((function(e){return I({},e,{blobUrl:v.url&&e.partOf&&(0,l.ms)(v.url,e.partOf)?v.blobUrl:e.blobUrl})}))});case"preloadingComplete":return I({},e,{preloading:!1,preloaded:!0});case"itemLoad":return I({},e,{itemLoading:!1});case"targetChange":return I({},e);case"partOfChange":return I({},e,{partOf:n.payload,itemLoading:!0});case"signIn":return I({},e,{signedIn:!0});default:return console.warn("no action found"),e}}),[]),n),d=u[0],f=u[1],p=(0,j.o)(d.index,d.screens,t).screen;(0,a.useEffect)((function(){void 0!==p&&f({type:"start",payload:{exhibit:t,screen:p}})}),[t,p]),(0,O.K)(d.preloading,d.screens,(function(e){f({type:"preloadedItem",payload:e})}),(function(){f({type:"preloadingComplete"})})),(0,a.useEffect)((function(){document.querySelector("body").classList.add("overflow-hidden","bg-black")}),[]);var g=(0,y.s)();return(0,r.jsxs)("div",{ref:s,children:[g&&"passwordProtected"===d.exhibit.access&&!d.signedIn&&(0,r.jsx)(c.Z,{exhibitId:d.exhibit.publicId,pwd:d.exhibit.password,onSignedIn:function(){f({type:"signIn"})}}),("public"===d.exhibit.access||"passwordProtected"===d.exhibit.access&&d.signedIn)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"exhibit slides flex h-screen items-center",children:d.partOf&&0===d.index&&(0,l.DU)(d.partOfFormat)?(0,r.jsx)(w.Z,{url:d.partOf,onLoad:function(){f({type:"itemLoad"})}}):d.partOf&&(0,r.jsx)(i.I,{autoPlay:!0,embedded:d.embedded,iiifManifestId:(0,l.kX)(d.partOfFormat)?d.partOf:null,youTubeVideoId:(0,l.DU)(d.partOfFormat)?d.partOf:null,rotation:d.rotation,target:d.target,duration:d.duration,iiifConfig:v,youTubeConfig:x,onToggleFullScreen:function(e){e?document.documentElement.requestFullscreen():(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&document.exitFullscreen&&document.exitFullscreen()},onItemLoad:function(){f({type:"itemLoad"})},onTargetChange:function(e){f({type:"targetChange",payload:e})}})}),(0,r.jsx)(b.Z,{loading:d.itemLoading,index:d.index,screens:d.screens,exhibit:t,description:d.description,controls:(0,r.jsx)(h,{index:d.index,screens:d.screens,loading:d.itemLoading,onNext:function(){f({type:"next"})},onPrevious:function(){f({type:"previous"})},onRestart:function(){f({type:"restart"})}})})]})]})}},32374:function(e,t,n){var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"}))}));t.Z=a},25159:function(e,t,n){var r=n(67294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))}));t.Z=a}}]);