<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>
	Demonstration of Star Chart embedded in IIIF viewers
</title>
 <meta charset="UTF-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link
   rel="stylesheet"
   href="https://cdn.jsdelivr.net/npm/universalviewer@4.0.0/dist/uv.css"
 />
 
  <script
   type="application/javascript"
   src="https://cdn.jsdelivr.net/npm/universalviewer@4.0.0/dist/umd/UV.js"
 ></script>
 <style>
   #uv {
     width: 924px;
     height: 668px;
   }
 </style>
</head>
<body>
<!-- run on localhost using: http://localhost/BRITISH_LIBRARY/universal_viewer_etc/BL Universal Viewer Modified/star_chart.html-->
<!-- run on Github pages using: https://cookjools.github.io/bl_universal_viewer_demo/star_chart.html?v=99 (change the version number to force refresh) -->

<p><small>Hint: change the version number (?v=...) query parameter to force refresh</small></p>


<h4>Demo of embedded IIIF viewers for ms: Or.8210/S.3326</h4>

<p>For original on IDP site (in customised Mirador viewer) see <a href="https://idp.bl.uk/collection/7861395E5F814419BA05483EAB254832/?return=%2Fcollection%2F%3Fterm%3Dstar%2Bchart">https://idp.bl.uk/collection/7861395E5F814419BA05483EAB254832/?return=%2Fcollection%2F%3Fterm%3Dstar%2Bchart</a></p>


<p>For the UV provided ion IDP website see  <a href="https://idp.bl.uk/uv/?manifest=https%3A%2F%2Fdata.idp.bl.uk%2Fiiif%2F3%2Fmanifest%2F7861395E5F814419BA05483EAB254832#?c=&m=&cv=&xywh=-1%2C-5491%2C20619%2C12455">https://idp.bl.uk/uv/?manifest=https%3A%2F%2Fdata.idp.bl.uk%2Fiiif%2F3%2Fmanifest%2F7861395E5F814419BA05483EAB254832#?c=&m=&cv=&xywh=-1%2C-5491%2C20619%2C12455</a></p>


<!--
<p>Here is an embedded version of the same (same config file same manifest located on BL site)</p>

<div class="uv" data-locale="en-GB:English (GB),cy-GB:Cymraeg" data-config="https://api.bl.uk/configuration/universalviewer/v2/ark:/81055/vdc_100052141780.0x000001" data-uri="https://api.bl.uk/metadata/iiif/ark:/81055/vdc_100052141780.0x000001/manifest.json" data-collectionindex="0" data-manifestindex="0" data-sequenceindex="0" data-canvasindex="0" data-zoom="-777,-268,7780,5341" data-rotation="0" style="width:560px; height:420px; background-color: #000"></div><script type="text/javascript" id="embedUV" src="https://access.bl.uk/UVR7/build/uv-2.0.2/lib/embed.js"></script><script type="text/javascript">/* wordpress fix */</script>

<p>Here is an embedded version of the same but with the config file and manifest file both now cloned versions of the BL files placed on Gihtub as gists</p>
<div class="uv" data-locale="en-GB:English (GB),cy-GB:Cymraeg" data-config="https://gist.githubusercontent.com/cookjools/7b0c2da60c8f249915c565ea63765f25/raw/fbfcea265faa626482c77cd0707dd0c919d42e11/81055_SLASH_vdc_100052141780.0x000001" data-uri="https://gist.githubusercontent.com/cookjools/7fbd3b0dca597b1227946edc0ad74cbd/raw/bc71dcd83253d5173a0d20d7c19374b2339d512c/BL_Universal_Viewer_manifest.json" data-collectionindex="0" data-manifestindex="0" data-sequenceindex="0" data-canvasindex="0" data-zoom="-777,-268,7780,5341" data-rotation="0" style="width:560px; height:420px; background-color: #000"></div><script type="text/javascript" id="embedUV" src="https://access.bl.uk/UVR7/build/uv-2.0.2/lib/embed.js"></script><script type="text/javascript">/* wordpress fix */</script>

-->

<!--

<p>Here is an embedded version of the same but with a modified form of the manifest (again placed on Gihtub as a gist)</p>
<div class="uv" data-locale="en-GB:English (GB),cy-GB:Cymraeg" data-config="https://gist.githubusercontent.com/cookjools/7b0c2da60c8f249915c565ea63765f25/raw/fbfcea265faa626482c77cd0707dd0c919d42e11/81055_SLASH_vdc_100052141780.0x000001" data-uri="https://gist.githubusercontent.com/cookjools/86117335d3bdeb37b9b5d618363d2368/raw/7a3a594055b997a106f09b4e8ca890dbb5946175/Add_MS_35021_manifest_modified.json" data-collectionindex="0" data-manifestindex="0" data-sequenceindex="0" data-canvasindex="0" data-zoom="-777,-268,7780,5341" data-rotation="0" style="width:560px; height:420px; background-color: #000"></div>
<script type="text/javascript" id="embedUV" src="https://access.bl.uk/UVR7/build/uv-2.0.2/lib/embed.js"></script><script type="text/javascript">/* wordpress fix */</script>
-->

<!--
<p>Here is an embedded BL style UV with the manifest and config file and embed.js from EAP viewer (EAP012-5-1) - this works to an extent but there are no thumbnails (is it because of embed set to false within the EAP config file?)</p>
<div class="uv" data-locale="en-GB:English (GB),cy-GB:Cymraeg" data-config="https://eap.bl.uk/modules/custom/cogapp_uv/uv/en-GB-config.json" data-uri="https://eap.bl.uk/archive-file/EAP012-5-1/manifest" data-collectionindex="0" data-manifestindex="0" data-sequenceindex="0" data-canvasindex="0" data-zoom="-777,-268,7780,5341" data-rotation="0" style="width:560px; height:420px; background-color: #000"></div>
<script type="text/javascript" id="embedUV" src="https://eap.bl.uk/modules/custom/cogapp_uv/uv/embed.js"></script><script type="text/javascript">/* wordpress fix */</script>
-->


<!--
<h4>Demo of embedded EAP Universal Viewer for item: EAP012-5-1</h4>
<p>For original see <a href="https://eap.bl.uk/archive-file/EAP012-5-1">https://eap.bl.uk/archive-file/EAP012-5-1</a></p>
[embedded version commented out]
-->

<!--
<p>Here is an embedded EAP UV with the manifest and config file and embed.js (and some other important js scripts) from EAP viewer (EAP012-5-1) - this works in that shows the viewer (resized to fullscreen as in EAP viewer)</p>
<div class="uv" data-locale="en-GB:English (GB),cy-GB:Cymraeg" data-config="https://eap.bl.uk/modules/custom/cogapp_uv/uv/en-GB-config.json" data-uri="https://eap.bl.uk/archive-file/EAP012-5-1/manifest" data-collectionindex="0" data-manifestindex="0" data-sequenceindex="0" data-canvasindex="0" data-zoom="-777,-268,7780,5341" data-rotation="0"  data-fullscreen="true" class="uv xFullscreen xHideOverflow"></div>

<script src="https://eap.bl.uk/sites/default/files/js/js_bLRg9DvdXPSM4y5PGxfgN8uGyP3l1TTdkoYGUTMQSHA.js"></script>
<script src="https://ws.sharethis.com/button/buttons.js"></script>
<script src="https://eap.bl.uk/sites/default/files/js/js_Jf9oAP3eCOU4OQjoUJu4s6wpQyypBFhxs4RIiRbHF28.js"></script>
<script src="https://eap.bl.uk/modules/custom/cogapp_uv/uv/embed.js?v=1.x" id="embedUV"></script>
-->


<!--
<p>Here is the same embedded EAP viewer but this time referencing the same manifest stored as a Gist (on Github) and this works (no problems with cross-site linking).</p>
<div class="uv" data-locale="en-GB:English (GB),cy-GB:Cymraeg" data-config="https://eap.bl.uk/modules/custom/cogapp_uv/uv/en-GB-config.json" data-uri="https://eap.bl.uk/archive-file/EAP012-5-1/manifest" data-collectionindex="0" data-manifestindex="0" data-sequenceindex="0" data-canvasindex="0" data-zoom="-777,-268,7780,5341" data-rotation="0"  data-fullscreen="true" class="uv xFullscreen xHideOverflow"></div>

<script src="https://eap.bl.uk/sites/default/files/js/js_bLRg9DvdXPSM4y5PGxfgN8uGyP3l1TTdkoYGUTMQSHA.js"></script>
<script src="https://ws.sharethis.com/button/buttons.js"></script>
<script src="https://eap.bl.uk/sites/default/files/js/js_Jf9oAP3eCOU4OQjoUJu4s6wpQyypBFhxs4RIiRbHF28.js"></script>
<script src="https://eap.bl.uk/modules/custom/cogapp_uv/uv/embed.js?v=1.x" id="embedUV"></script>
-->

<!--
<h4>Demo of embedded EAP Universal Viewer for dummy EAP file: EAP000_1_1</h4>
<p>There is no original version of this on the EAP site (https://eap.bl.uk/archive-file/EAP_000_1_1). 3 sample images were ingested by Rob Miles against this dummy file (EAP000_1_1) who also created a simple manifest which includes those 3 as canvases. One of the ingested images is here: <a href="https://images.eap.bl.uk/EAP000/EAP000_1_1/3.jp2/full/full/0/default.jpg">https://images.eap.bl.uk/EAP000/EAP000_1_1/3.jp2/full/full/0/default.jpg</a></p>
-->

<!--
<p>Here is an embedded EAP viewer but this time referencing the custom manifest created by Rob Miles - which contains canvases for 3 images ingested against dummy EAP item EAP000_1_1. The manifest is again stored as a Gist (on Github) and this works (no problems with cross-site linking). This demonstrates a mechanism for setting up custom manifests accessing sets of images ingested onto the EAP IIIF server by Rob. We could place the page hosting the embeded viewer (such as the demo page you are now looking at) on another Gist or in the Alexander Exhibition webspace and we would not need to use explicit EAP URLs for our exhibition-published Persian manuscripts (even though the images will be served from the EAP AWS server).</p>
<div class="uv" data-locale="en-GB:English (GB),cy-GB:Cymraeg" data-config="https://eap.bl.uk/modules/custom/cogapp_uv/uv/en-GB-config.json" data-uri="https://gist.githubusercontent.com/cookjools/ea8f24cd74d6d423588bae10ff23f0c7/raw/6559b6cf68837a5ca0a8dc95fd1849c19f1c5cf6/test_manifest_from_rob_miles.json " data-collectionindex="0" data-manifestindex="0" data-sequenceindex="0" data-canvasindex="0" data-zoom="-777,-268,7780,5341" data-rotation="0"  data-fullscreen="true" class="uv xFullscreen xHideOverflow"></div>

<script src="https://eap.bl.uk/sites/default/files/js/js_bLRg9DvdXPSM4y5PGxfgN8uGyP3l1TTdkoYGUTMQSHA.js"></script>
<script src="https://ws.sharethis.com/button/buttons.js"></script>
<script src="https://eap.bl.uk/sites/default/files/js/js_Jf9oAP3eCOU4OQjoUJu4s6wpQyypBFhxs4RIiRbHF28.js"></script>
<script src="https://eap.bl.uk/modules/custom/cogapp_uv/uv/embed.js?v=1.x" id="embedUV"></script>

-->


<!--
<p>Here is an embedded EAP viewer but this time referencing the custom manifest created by Rob Miles - which contains canvases for 3 images ingested against dummy EAP item EAP000_1_1. The manifest is now stored on JC's Github pages and this works (no problems with cross-site linking). This demonstrates a mechanism for setting up custom manifests accessing sets of images ingested onto the EAP IIIF server by Rob. We could place the page hosting the embeded viewer (such as the demo page you are now looking at) on Github pages (as here) or, preferably, in the Alexander Exhibition webspace, and we would not need to use explicit EAP URLs for our exhibition-published Persian manuscripts (even though the images would be served from the EAP AWS server as referenced internally in the manifest).</p>
<div class="uv" data-locale="en-GB:English (GB),cy-GB:Cymraeg" data-config="https://eap.bl.uk/modules/custom/cogapp_uv/uv/en-GB-config.json" data-uri="https://cookjools.github.io/bl_universal_viewer_demo/test_manifest_from_rob_miles.json" data-collectionindex="0" data-manifestindex="0" data-sequenceindex="0" data-canvasindex="0" data-zoom="-777,-268,7780,5341" data-rotation="0"  data-fullscreen="true" class="uv xFullscreen xHideOverflow"></div>

<script src="https://eap.bl.uk/sites/default/files/js/js_bLRg9DvdXPSM4y5PGxfgN8uGyP3l1TTdkoYGUTMQSHA.js"></script>
<script src="https://ws.sharethis.com/button/buttons.js"></script>
<script src="https://eap.bl.uk/sites/default/files/js/js_Jf9oAP3eCOU4OQjoUJu4s6wpQyypBFhxs4RIiRbHF28.js"></script>
<script src="https://eap.bl.uk/modules/custom/cogapp_uv/uv/embed.js?v=1.x" id="embedUV"></script>

-->

<h4>UV</h4>
<p>Embedded according to example at <b>https://training.iiif.io/dhsi/day-two/uv.html</b></p>
 <iframe
          src="https://1p175.csb.app/uv.html#?manifest=https://data.idp.bl.uk/iiif/3/manifest/7861395E5F814419BA05483EAB254832"
          width="560"
          height="420"
          allowfullscreen
          frameborder="0"
        ></iframe>
		
		
<!--
<h4>UV</h4>
<p>Here is an embedded version with the config file and embed.js from old BL UV, both on Github</p>
<div class="uv" data-locale="en-GB:English (GB),cy-GB:Cymraeg" data-config="https://cookjools.github.io/bl_universal_viewer_demo/custom_uv_config.json" data-uri="https://data.idp.bl.uk/iiif/3/manifest/7861395E5F814419BA05483EAB254832" data-collectionindex="0" data-manifestindex="0" data-sequenceindex="0" data-canvasindex="0" data-zoom="-777,-268,7780,5341" data-rotation="0" style="width:560px; height:420px; background-color: #000"></div><script type="text/javascript" id="embedUV" src="https://cookjools.github.io/bl_universal_viewer_demo/UVR7/build/uv-2.0.2/lib/embed.js"></script><script type="text/javascript">/* wordpress fix */</script>

-->

<h4>UV configured</h4>
<p>see https://training.iiif.io/dhsi/day-two/uv.html </p>
<hr/>
<div class="uv" id="uv"></div>

<hr/>

 <script>
   var urlAdaptor = new UV.IIIFURLAdaptor();

   const data = urlAdaptor.getInitialData({
     manifest: "https://data.idp.bl.uk/iiif/3/manifest/7861395E5F814419BA05483EAB254832",
     embedded: true // needed for codesandbox frame
   });

   uv = UV.init("uv", data);
   urlAdaptor.bindTo(uv);

   // override config using an inline json object
   // for options see config file at https://cookjools.github.io/bl_universal_viewer_demo/custom_uv_config.json
   uv.on("configure", function ({ config, cb }) {
     cb({
       options: { 
	   dropEnabled: false,
	   footerPanelEnabled: false,
	   footerPanelEnabled: false,
	   headerPanelEnabled: false,
	   leftPanelEnabled: false,
	   navigatorEnabled: false,
	   overrideFullScreen: true,
	   pagingEnabled: false,
	   pagingOptionEnabled: false,
	   pessimisticAccessControl: true,
	   preserveViewport: true,
	   rightPanelEnabled: false,
	   saveUserSettings: false,
	   searchWithinEnabled: false,
	   termsOfUseEnabled: false
	   },
	   modules: { contentLeftPanel: {options: {thumbsEnabled:false} } }
     });
   });
 </script>


</body>
</html>